



  <!-- Property Header -->

  <div>

  <div class="container">
    <div class="property-header">
      <h1>{{nha.ten}}</h1>
  <div class="container gallery">
    <!-- Large Image -->
    <div>
      <img [src]="image1" alt="Large Image" class="large"  (click)="openImage(image1)">
    </div>

    <!-- Small Images on the right side -->
    <div class="small-container">
      <img [src]="image2" alt="Small Image 1"  (click)="openImage(image2)" >
      <div class="small-container">
      <img [src]="image3" alt="Small Image 2" (click)="openImage(image3)">
      <img [src]="image4" alt="Small Image 3"  (click)="openImage(image4)">
      <img [src]="image5" alt="Small Image 4" (click)="openImage(image5)" >
      <img [src]="image6" alt="Small Image 4" (click)="openImage(image6)">
    </div>
    
    
    </div>
    <div class="property-header">
      <h2>{{nha.title}} tại {{nha.city}}, {{nha.provin}} </h2>
      <p style="color: lightgray;">
        {{nha.soluong}} &#8901; {{nha.giuong}} giường &#8901; {{nha.phongtam}} phòng tắm
      </p>
      <p *ngIf="usercomment.length==0">Chưa có đánh giá</p>
      <p *ngIf="usercomment.length!=0">★ {{sao}} &#8901; <a  style="color: lightgray;">{{usercomment.length}} đánh giá</a> </p>
  </div>
    <div *ngIf="isPopupOpen" class="popup" (click)="closeImage()">
        <span class="close" (click)="closeImage()">&times;</span>
        <img class="popup-content" [src]="selectedImage" alt="Popup Image" />
      </div>
  </div>

  </div>

  <!-- Price and Booking Box -->
  <div class="container">
    <div class="row">
      <div class="col-md-8">
        <h2>Mô tả của chủ phòng</h2>
        <p [innerHTML]="mota" style="display: inline;"></p>
        <a style="text-decoration: underline;" (click)="toggleCollapse()">
          {{ isCollapsed ? 'Xem thêm' : 'Thu gọn' }}
        </a>
        <hr style="font-weight: bolder;">
        <h2>Tiện Nghi</h2>
        <div style="display: flex; flex-direction: row; width: 500px; flex-wrap: wrap;" >
          <p style="margin-right: 50px;">&#8226; {{nha.tiennghi[0]}}</p>
          <p style="margin-right: 50px;">&#8226; {{nha.tiennghi[1]}}</p>
          <p style="margin-right: 50px;">&#8226; {{nha.tiennghi[2]}}</p>
          <p style="margin-right: 50px;">&#8226; {{nha.tiennghi[3]}}</p>
          <p style="margin-right: 50px;">&#8226; {{nha.tiennghi[4]}}</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="price-box">
          <h4>₫{{nha.gia}} / đêm</h4>
          <i *ngIf="!datlai" style="color: red; ">Bạn đã đặt phòng này  từ ngày {{ngaynhan}} đến {{ngaytra}}  đang chờ tới ngày checkin</i>
          <button *ngIf="!datlai" style="height: 40px; width: 200px;  ; background-color: rgb(15, 115, 246);" type="submit" class="btn btn-primary" value="Đã Checkin" (click)="cancel()">Hủy phòng đã đặt </button>
          <div *ngIf="datlai">
            <div class="mb-3">
              <label for="checkin" class="form-label" >Ngày nhận phòng và trả phòng</label>
              <input #nhan type="text" id="datepicker" placeholder="nhập khoản ngày" >
              <p *ngIf="!day1" style="color: red;">Hãy nhập ngày</p>
            </div>
            <button type="submit" class="btn btn-primary w-100" (click)="submitData(nhan)">Đặt phòng</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Reviews Section -->
  <div class="container reviews">
    <h3>Nhận xét</h3>
    <p *ngIf="usercomment.length==0">Chưa có nhận xét nào</p>
    <div *ngFor="let i of usercomment">
    <div class="d-flex mb-3">
      <div>
        <img src="assets/images/avata.svg" alt="Avatar" class="rounded-circle">
      </div>
      <div class="ms-3">
        <h6>{{i.cus}} <p>{{i.sao}} ★</p></h6>
        
        <p>Nhận xét: {{i.comment}}</p>
      </div>
    </div>
  </div>
    <button class="btn btn-secondary">Hiển thị tất cả nhận xét</button>
  </div>

  <!-- Host Information -->
  <div class="container host-info">
    <div class="d-flex align-items-center">
      <img src="assets/images/avata.svg" alt="Host Avatar" class="rounded-circle">
      <div class="ms-3">
        <h6>{{nha.chuho}}</h6>
        <p>Top Rated Host</p>
      </div>
    </div>
    <button class="btn btn-primary w-100 mt-3" (click)="openPopup()">Chat với chủ nhà</button>
    
  </div>
  
  <!-- Map Section -->
   <div>  
    <div id="map" style="height: 300px; width: 100%; margin-bottom: 100px;"></div>
   </div>

   <div class="chat-popup" *ngIf="isVisible">
    <div class="chat-header d-flex justify-content-between align-items-center  text-white p-2">
      <span>Chat với {{nha.chuho}}</span>
      <button class="btn-close btn-close-white" (click)="closePopup()"></button>
    </div>
    <div class="chat-body p-2">
      <div class="message-received mb-3">
        <p class="bg-secondary text-white p-2 rounded">Xin chào, bạn khỏe không?</p>
        <small class="text-muted">09:00</small>
      </div>
      <div class="message-sent text-end">
        <p class="bg-primary text-white p-2 rounded">Tôi khỏe, cảm ơn. Còn bạn?</p>
        <small class="text-muted">09:02</small>
      </div>
    </div>
    <div class="chat-footer p-2">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Nhập tin nhắn...">
        <button class="btn btn-primary">Gửi</button>
      </div>
    </div>
  </div>

</div>

